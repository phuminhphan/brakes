###
# subcat:Slotted-Rotors
# prefix:EBS
# rotor_set:2
# cat:Brake-Rotors
# brand_id:2
# rotor_color:2
# counter:1
# brand:eLINE-Series
# year:2006
# make:Lexus
# model:IS250
# submodel:Base_Sedan_4-Door
# position:Rear
# padtype:
###

######
# POST https://www.r1concepts.com/listing/getPrice/
# PARAMS:
# subcat:Drilled-Rotors
# prefix:EBX
# rotor_set:2
# cat:Brake-Rotors
# brand_id:2
# rotor_color:2
# counter:1
# brand:eLINE-Series
# year:2006
# make:Lexus
# model:IS250
# submodel:Base_Sedan_4-Door
# position:Rear
# padtype:
###
# RESPONSE:
# {
#   "image": "black-Eline-Drilled-2.jpg",
#   "product_price": "$129.82",
#   "pro_details": "<div class=\"part-no\">Part No. <a href=\"javascript:void(0)\" id=\"1\" class=\"exppartno\"><span id=\"1\">EBX.646143</span></a></div><div id=\"partfits_details_1\" style=\"display:none;\" class=\"simplePopup\">\n\t\t\t<div class=\"pop-pdetails-holder\" style=\"width:900px;line-height: 29px;padding-bottom: 15px;border: 10px solid #eeeeee;padding: 10px;color: #666;\">\n\t\t\t\t<div style=\"font-size: 20px;padding: 8px 0;margin-bottom: 15px;border-bottom: 1px solid #ccc;\">Other Specification</div>\n\t\t\t\t<div style=\"font-size: 15px;\">\n\t\t\t\t\t<div><span style=\"padding-right:8px\">Part no:</span>EBX.646143</div><div>\n\t\t\t\t<span style=\"padding-right:8px\">Year:</span>2006\n\t\t\t\t<span style=\"padding-right:8px\">Make:</span>Lexus\n\t\t\t\t<span style=\"padding-right:8px\">Model:</span>IS250</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"clear\"></div>\t\n\t\t\t</div>\n\t\t\t<div class=\"clear\"></div>\n\t\t</div>",
#   "retail_price": "152.93",
#   "cat_name": "Drilled Rotors",
#   "addcarthtml": "<a href=\"javascript:;\" class=\"add-to-cart\" id=\"addtocart_1769258\" accesskey=\"1769258\" name=\"1\">Add To Cart</a>\n\t\t\t\t\t\t\t<a href=\"/shoppingCartListing/\" style=\"display:none;\" id=\"checkout_1769258\" class=\"listing-bot-right-btn-checkout-new\">Checkout</a> \n\t\t\n\t\t<input type=\"hidden\" name=\"pro_id\" id=\"pro_id_1769258\" value=\"1769258\" />\n\t\t<input type=\"hidden\" name=\"rprice\" id=\"rprice_1769258\" value=\"129.82\" />\n\t\t<input type=\"hidden\" name=\"brand_id\" id=\"brand_1769258\" value=\"2\" />\n        <input type=\"hidden\" name=\"qtyinvCheck\" id=\"qtyinvCheck_1769258\" value=\"1\" />\n\t\t<input type=\"hidden\" name=\"prefix\" id=\"prefix_1769258\" value=\"EBX\" />",
#   "qtextbox": "<input type=\"text\" name=\"qty[1769258]\" id=\"qty_1769258\" value=\"1\">",
#   "avaliable_desc": "<ul><li>- Style : Drilled Rotors</li><li>- Included : </strong></span> 2 Rotors Set</li></ul><li>-ELINE CROSS DRILLED ROTORS</li></ul>",
#   "brand_name": "eLINE Series",
#   "brand_desc": "Crossed Drilled rotors reduce the heat that builds on the rotor by up to 105Â° F. Cross-drilled rotors are also chamfered, which reduces the potential for cracking.",
#   "resultsubcat": "<li>   \n                                        <a href=\"javascript:;\" rel=1 accesskey=1 class=\"subcat_option\">\n                                            <img title=\"R1concepts Cross Drilled\" alt=\"R1concepts Cross Drilled\" src=\"/script/images/black-drileld.jpg\" \n\t\t\t\t\t\t\t\t\t\t\t  class=\"thumb-select\" id=\"subimg11\">\n                                            \n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"subcat_opt\" id=\"subcat11\" value=Drilled-Rotors\t />\t\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"cat_opt\" id=\"category11\" value=Brake-Rotors\t />\t\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"prefix_opt\" id=\"prefix11\" value=EBX\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"brand_opt\" id=\"brand_id11\" value=2\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"rotor_color_opt\" id=\"rotor_color11\" value=2\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"rotor_set_opt\" id=\"rotor_set11\" value=2\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"brand_namne_opt\" id=\"brand11\" value=eLINE-Series\t />\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\n                                        </a>\n                                    </li><li>   \n                                        <a href=\"javascript:;\" rel=1 accesskey=2 class=\"subcat_option\">\n                                            <img title=\"R1concepts Diamond Slotted\" alt=\"R1concepts Diamond Slotted\" src=\"/script/images/black-slotted.jpg\" \n\t\t\t\t\t\t\t\t\t\t\t  class=\"\" id=\"subimg21\">\n                                            \n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"subcat_opt\" id=\"subcat12\" value=Slotted-Rotors\t />\t\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"cat_opt\" id=\"category12\" value=Brake-Rotors\t />\t\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"prefix_opt\" id=\"prefix12\" value=EBS\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"brand_opt\" id=\"brand_id12\" value=2\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"rotor_color_opt\" id=\"rotor_color12\" value=2\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"rotor_set_opt\" id=\"rotor_set12\" value=2\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"brand_namne_opt\" id=\"brand12\" value=eLINE-Series\t />\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\n                                        </a>\n                                    </li><li>   \n                                        <a href=\"javascript:;\" rel=1 accesskey=3 class=\"subcat_option\">\n                                            <img title=\"R1concepts Drilled &amp; Slotted\" alt=\"R1concepts Drilled &amp; Slotted\" src=\"/script/images/black-drilledslotted.jpg\" \n\t\t\t\t\t\t\t\t\t\t\t  class=\"\" id=\"subimg31\">\n                                            \n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"subcat_opt\" id=\"subcat13\" value=Cross-Drilled-And-Slotted-Rotors\t />\t\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"cat_opt\" id=\"category13\" value=Brake-Rotors\t />\t\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"prefix_opt\" id=\"prefix13\" value=EBDS\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"brand_opt\" id=\"brand_id13\" value=2\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"rotor_color_opt\" id=\"rotor_color13\" value=2\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"rotor_set_opt\" id=\"rotor_set13\" value=2\t />\t\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"brand_namne_opt\" id=\"brand13\" value=eLINE-Series\t />\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\n                                        </a>\n                                    </li>",
#   "prefix": "EBX",
#   "subcat": "Drilled Rotors",
#   "colorImg": "black-drilledslotted.jpg",
#   "slRotorcolor": "2"
# }
#####
class CreateProducts < ActiveRecord::Migration[5.0]
  def change
    create_table :categories do |t|
      t.integer :year, null: false
      t.string :make, null: false
      t.string :model, null: false
      t.string :submodel, null: false

      t.timestamps
    end
    # subcat:Brake-Shoes
    # prefix:2902
    # rotor_set:0
    # cat:Other-Items
    # brand_id:4
    # rotor_color:
    #   counter:1
    # brand:R1-Series
    # year:2016
    # make:Acura
    # model:RDX
    # submodel:submodel
    # position:AWD
    # padtype:
    create_table :products do |t|
      t.string :name
      t.text :description
      t.string :subcat
      t.string :cat
      t.string :rotor_color
      t.string :brand
      t.integer :brand_id
      t.integer :rotor_set
      t.string :position
      t.float :price
      t.integer :prefix
      t.references :category

      t.timestamps
    end
  end
end
